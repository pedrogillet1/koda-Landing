/* ============================================
   KODA LANDING PAGE - RESPONSIVE SYSTEM
   ChatGPT-Style Fluid Layout Implementation
   ============================================ */

/* ============================================
   1. SPACING SYSTEM (CSS Variables)
   ============================================ */
:root {
    --space-1: 4px;
    --space-2: 8px;
    --space-3: 12px;
    --space-4: 16px;
    --space-5: 24px;
    --space-6: 32px;
    --space-7: 48px;
    --space-8: 64px;
    --space-9: 96px;
    --space-10: 128px;

    /* Safe area for iOS */
    --safe-area-top: env(safe-area-inset-top, 0px);
    --safe-area-bottom: env(safe-area-inset-bottom, 0px);
    --safe-area-left: env(safe-area-inset-left, 0px);
    --safe-area-right: env(safe-area-inset-right, 0px);
}

/* ============================================
   2. FLUID CONTAINERS
   ============================================ */
/* REMOVED - Let index.css control layout */
/* These rules were conflicting with index.css specificity */
/* The !important declarations were causing layout issues */
/* Now using unified 1440px max-width system in index.css */

/* ============================================
   3. RESPONSIVE IMAGES
   ============================================ */
img,
.workflow-image,
.mockup-image,
.hero-image,
.feature-image,
.macbook-mockup,
.iphone-mockup,
.illustration {
    max-width: 100%;
    height: auto;
    object-fit: contain;
    display: block;
}

/* Prevent image overflow */
img {
    max-width: 100%;
    height: auto;
}

/* ============================================
   4. TYPOGRAPHY SCALING
   ============================================ */
h1, .hero-title {
    font-size: clamp(32px, 5vw, 64px);
    line-height: 1.2;
}

h2, .section-title {
    font-size: clamp(28px, 4vw, 48px);
    line-height: 1.3;
}

h3, .subsection-title {
    font-size: clamp(20px, 3vw, 32px);
    line-height: 1.4;
}

p, .body-text {
    font-size: clamp(14px, 2vw, 18px);
    line-height: 1.6;
}

/* ============================================
   5. TOUCH TARGET OPTIMIZATION (Mobile)
   ============================================ */
@media (hover: none) and (pointer: coarse) {
    button,
    a,
    .btn,
    .link,
    .nav-link,
    input[type="submit"],
    input[type="button"] {
        min-height: 44px;
        min-width: 44px;
        padding: var(--space-3) var(--space-5);
    }

    /* Larger tap targets for navigation */
    .nav-link {
        padding: var(--space-4) var(--space-5);
    }
}

/* ============================================
   6. HOVER STATES (Desktop Only)
   ============================================ */
@media (hover: hover) and (pointer: fine) {
    button:hover,
    a:hover,
    .btn:hover,
    .link:hover,
    .card:hover {
        transform: translateY(-2px);
        transition: transform 0.2s ease;
    }
}

/* ============================================
   7. MOBILE STYLES (320px - 767px)
   ============================================ */
@media (max-width: 767px) {
    /* Navigation */
    .main-nav {
        width: 100% !important;
        padding-inline: var(--space-4) !important;
    }

    /* Sections */
    .smart-secure-section {
        flex-direction: column !important;
        gap: var(--space-6) !important;
        padding: var(--space-8) var(--space-4) !important;
    }

    .mockup-container {
        flex: none !important;
        width: 100% !important;
    }

    .content-container {
        margin-left: 0 !important;
    }

    /* Features grid */
    .features-grid {
        grid-template-columns: 1fr !important;
        gap: var(--space-6) !important;
    }

    /* Typography */
    .smart-secure-section .section-header h2 {
        font-size: 32px !important;
        line-height: 1.2 !important;
    }

    .intro-text {
        font-size: 16px !important;
    }

    .feature-item h3 {
        font-size: 20px !important;
    }

    .feature-item p {
        font-size: 14px !important;
    }

    /* Icons */
    .icon-circle {
        width: 60px !important;
        height: 60px !important;
    }

    .icon-circle img {
        width: 30px !important;
        height: 30px !important;
    }

    /* Images */
    .macbook-mockup {
        width: 100% !important;
        max-width: 100% !important;
    }

    /* Hide decorative elements */
    .decorative-element,
    .background-pattern {
        display: none;
    }

    /* Full-width cards */
    .card {
        width: 100% !important;
        margin-inline: 0 !important;
    }

    /* Footer */
    .site-footer {
        padding: var(--space-7) var(--space-4) !important;
    }

    .footer-main {
        flex-direction: column !important;
        gap: var(--space-6) !important;
    }

    .footer-nav {
        grid-template-columns: 1fr !important;
        gap: var(--space-5) !important;
    }
}

/* ============================================
   8. TABLET STYLES (768px - 1023px)
   ============================================ */
@media (min-width: 768px) and (max-width: 1023px) {
    /* Navigation */
    .main-nav {
        width: 95% !important;
    }

    /* Sections */
    .smart-secure-section {
        flex-direction: column !important;
        gap: var(--space-7) !important;
        padding: var(--space-9) var(--space-6) !important;
    }

    .mockup-container {
        flex: none !important;
        width: 100% !important;
    }

    .content-container {
        margin-left: 0 !important;
    }

    /* Features grid */
    .features-grid {
        grid-template-columns: repeat(2, 1fr) !important;
        gap: var(--space-7) !important;
    }

    /* Typography */
    .smart-secure-section .section-header h2 {
        font-size: 48px !important;
    }

    /* Footer */
    .footer-nav {
        grid-template-columns: repeat(2, 1fr) !important;
    }
}

/* ============================================
   9. DESKTOP STYLES (1024px+)
   ============================================ */
@media (min-width: 1024px) {
    /* Navigation */
    .main-nav {
        width: 90% !important;
        max-width: 1360px !important;
    }

    /* Sections maintain original layout */
    .smart-secure-section {
        flex-direction: row !important;
    }

    /* Enable hover effects */
    .card:hover {
        transform: translateY(-4px);
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
    }
}

/* ============================================
   10. LARGE DESKTOP (1440px+)
   ============================================ */
@media (min-width: 1440px) {
    /* Ensure content doesn't get too wide */
    .main-nav,
    .hero-section,
    .workflow-section,
    .chaos-section,
    .how-it-works-section,
    .mockup-section,
    .since-section,
    .mvv-section,
    .contact-section,
    .privacy-content-section,
    .terms-content-section,
    .smart-secure-section {
        max-width: 1440px !important;
    }
}

/* ============================================
   11. ULTRA-WIDE SCREENS (1920px+)
   ============================================ */
@media (min-width: 1920px) {
    /* Center content with maximum width */
    body {
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    main {
        width: 100%;
        max-width: 1920px;
    }
}

/* ============================================
   12. SAFE AREA SUPPORT (iOS)
   ============================================ */
@supports (padding: env(safe-area-inset-top)) {
    body {
        padding-top: var(--safe-area-top);
        padding-bottom: var(--safe-area-bottom);
        padding-left: var(--safe-area-left);
        padding-right: var(--safe-area-right);
    }

    .main-nav {
        padding-top: max(var(--space-4), var(--safe-area-top));
    }

    .site-footer {
        padding-bottom: max(var(--space-6), var(--safe-area-bottom));
    }
}

/* ============================================
   13. PREVENT HORIZONTAL SCROLL
   ============================================ */
html,
body {
    overflow-x: hidden;
    max-width: 100vw;
}

* {
    box-sizing: border-box;
}

/* Prevent any element from causing horizontal scroll */
section,
div,
article,
aside {
    max-width: 100%;
    overflow-wrap: break-word;
}

/* ============================================
   14. FORM RESPONSIVENESS
   ============================================ */
input,
textarea,
select {
    max-width: 100%;
    width: 100%;
    font-size: 16px; /* Prevents zoom on iOS */
}

@media (max-width: 767px) {
    input,
    textarea,
    select {
        font-size: 16px !important; /* Prevents iOS zoom */
    }
}

/* ============================================
   15. GRID SYSTEM FIXES
   ============================================ */
.grid,
.grid-container {
    display: grid;
    gap: var(--space-5);
    width: 100%;
}

@media (max-width: 767px) {
    .grid,
    .grid-container {
        grid-template-columns: 1fr;
    }
}

@media (min-width: 768px) and (max-width: 1023px) {
    .grid,
    .grid-container {
        grid-template-columns: repeat(2, 1fr);
    }
}

@media (min-width: 1024px) {
    .grid,
    .grid-container {
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    }
}

/* ============================================
   16. FLEXBOX SYSTEM FIXES
   ============================================ */
.flex,
.flex-container {
    display: flex;
    gap: var(--space-5);
    flex-wrap: wrap;
}

@media (max-width: 767px) {
    .flex,
    .flex-container {
        flex-direction: column;
    }
}

/* ============================================
   17. VIEWPORT HEIGHT FIXES
   ============================================ */
.full-height {
    min-height: 100vh;
    min-height: 100svh; /* Small viewport height */
}

/* ============================================
   18. ACCESSIBILITY IMPROVEMENTS
   ============================================ */
@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

/* ============================================
   19. PRINT STYLES
   ============================================ */
@media print {
    .main-nav,
    .site-footer,
    .decorative-element {
        display: none;
    }

    body {
        max-width: 100%;
    }
}

/* ============================================
   20. HIGH DPI SCREENS
   ============================================ */
@media (-webkit-min-device-pixel-ratio: 2),
       (min-resolution: 192dpi) {
    img {
        image-rendering: -webkit-optimize-contrast;
    }
}
