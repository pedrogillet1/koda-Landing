/*
============================================
KODA - UNIVERSAL MOBILE HEADER FIX (UPDATED)
============================================

This file corrects all mobile header issues across all pages, including:
1. Header positioning and layout
2. Logo size and alignment
3. Hamburger menu visibility
4. Content overlap on secondary pages

FIXES APPLIED:
- Fixed hamburger menu visibility on index.html and about.html
- Fixed header overlapping content on contact.html, privacy.html, terms.html
- Ensured all headers are the same position and size on all pages
- Only affects mobile (max-width: 767px), desktop unchanged

*/

@media (max-width: 767px) {

    /* ============================================
       0. RESET CONFLICTING DESKTOP STYLES
       - Remove any desktop positioning that conflicts
    ============================================ */

    header {
        position: relative !important;
        background: transparent !important;
    }

    /* ============================================
       1. MAIN NAVIGATION CONTAINER
       - Make header full-width, stick to top, and set a fixed height.
       - CRITICAL: This must be fixed at top: 0 with no transform
    ============================================ */

    header .main-nav,
    .main-nav,
    body .main-nav,
    .homepage .main-nav,
    .about-page .main-nav,
    .contact-page .main-nav,
    .privacy-page .main-nav,
    .terms-page .main-nav,
    .waitlist-page .main-nav {
        position: fixed !important;
        top: 0 !important;
        left: 0 !important;
        right: 0 !important;
        width: 100% !important;
        max-width: 100% !important;
        height: 64px !important;
        padding: 0 16px !important;
        margin: 0 !important;
        border-radius: 0 0 24px 24px !important;
        transform: none !important;
        display: flex !important;
        justify-content: space-between !important;
        align-items: center !important;
        background-color: rgba(255, 255, 255, 0.95) !important;
        backdrop-filter: blur(10px) !important;
        -webkit-backdrop-filter: blur(10px) !important;
        border-bottom: 1px solid rgba(0, 0, 0, 0.1) !important;
        border-top: none !important;
        border-left: none !important;
        border-right: none !important;
        box-sizing: border-box !important;
        z-index: 1000 !important;
    }

    /* ============================================
       2. LOGO
       - Increase size for better visibility and touch interaction.
       - Ensure it is aligned to the left.
    ============================================ */

    .logo,
    .main-nav .logo,
    body .main-nav .logo {
        flex-shrink: 0 !important;
        margin-left: 0 !important;
        margin-right: auto !important;
        padding-left: 0 !important;
        display: flex !important;
        align-items: center !important;
        justify-content: flex-start !important;
    }

    .logo a,
    .main-nav .logo a,
    body .main-nav .logo a {
        display: flex !important;
        align-items: center !important;
        margin: 0 !important;
        padding: 0 !important;
    }

    .content-icon,
    .logo img,
    .main-nav .logo img,
    body .main-nav .content-icon,
    body .main-nav .logo img {
        height: 40px !important;
        width: auto !important;
        margin: 0 !important;
        padding: 0 !important;
        display: block !important;
    }

    /* ============================================
       3. HAMBURGER MENU
       - Make the menu lines black so they are visible on white background.
       - Ensure it is always displayed and aligned to the right.
       - CRITICAL: Use very specific selectors to override any desktop styles
    ============================================ */

    /* Hide desktop navigation links */
    .nav-links,
    .desktop-only,
    .main-nav .nav-links,
    .main-nav .desktop-only,
    body .main-nav .nav-links,
    body .main-nav .desktop-only {
        display: none !important;
        visibility: hidden !important;
        opacity: 0 !important;
    }

    /* Show mobile-only elements */
    .mobile-only,
    button.mobile-only,
    .mobile-menu-toggle.mobile-only,
    #mobile-menu-btn,
    .main-nav .mobile-only,
    .main-nav button.mobile-only,
    .main-nav .mobile-menu-toggle.mobile-only,
    .main-nav #mobile-menu-btn,
    body .main-nav .mobile-only,
    body .main-nav button.mobile-only,
    body .main-nav .mobile-menu-toggle.mobile-only,
    body .main-nav #mobile-menu-btn {
        display: flex !important;
        visibility: visible !important;
        opacity: 1 !important;
    }

    /* Hamburger menu button container */
    .mobile-menu-toggle,
    button.mobile-menu-toggle,
    .hamburger-menu,
    #mobile-menu-btn,
    .main-nav .mobile-menu-toggle,
    .main-nav button.mobile-menu-toggle,
    .main-nav .hamburger-menu,
    .main-nav #mobile-menu-btn,
    body .main-nav .mobile-menu-toggle,
    body .main-nav button.mobile-menu-toggle,
    body .main-nav .hamburger-menu,
    body .main-nav #mobile-menu-btn {
        display: flex !important;
        flex-direction: column !important;
        align-items: center !important;
        justify-content: center !important;
        width: 44px !important;
        height: 44px !important;
        padding: 8px !important;
        margin: 0 !important;
        margin-left: auto !important;
        gap: 6px !important;
        background: transparent !important;
        border: none !important;
        cursor: pointer !important;
        visibility: visible !important;
        opacity: 1 !important;
        position: relative !important;
        z-index: 1001 !important;
        flex-shrink: 0 !important;
    }

    /* Hamburger menu lines - CRITICAL: Make them BLACK for visibility on white background */
    .mobile-menu-toggle .menu-line,
    .hamburger-menu .menu-line,
    #mobile-menu-btn .menu-line,
    .main-nav .mobile-menu-toggle .menu-line,
    .main-nav .hamburger-menu .menu-line,
    .main-nav #mobile-menu-btn .menu-line,
    body .main-nav .mobile-menu-toggle .menu-line,
    body .main-nav .hamburger-menu .menu-line,
    body .main-nav #mobile-menu-btn .menu-line,
    button.mobile-menu-toggle .menu-line,
    .main-nav button.mobile-menu-toggle .menu-line,
    body .main-nav button.mobile-menu-toggle .menu-line {
        display: block !important;
        width: 24px !important;
        height: 2px !important;
        background: #000000 !important;
        background-color: #000000 !important;
        border-radius: 2px !important;
        visibility: visible !important;
        opacity: 1 !important;
        transition: all 0.3s ease !important;
    }

    /* ============================================
       4. CONTENT OVERLAP FIX
       - Add padding to the top of the body to push page content down,
         preventing it from rendering underneath the fixed header.
       - CRITICAL: This is the key fix for overlapping content
    ============================================ */

    body,
    body.homepage,
    body.about-page,
    body.contact-page,
    body.privacy-page,
    body.terms-page,
    body.waitlist-page {
        padding-top: 64px !important;
    }

    /* ============================================
       5. PAGE-SPECIFIC HEADER SPACING FIX
       - Reset the margin-top for page headers to proper spacing
       - Desktop has margin-top: 183px, mobile needs to account for fixed header
       - CRITICAL: This fixes the "header in the middle of text" issue
    ============================================ */

    /* Contact page header */
    .contact-header,
    .contact-page .contact-header {
        margin-top: 48px !important;
        margin-left: auto !important;
        margin-right: auto !important;
        padding-left: 20px !important;
        padding-right: 20px !important;
    }

    /* Privacy page header */
    .privacy-header,
    .privacy-page .privacy-header {
        margin-top: 48px !important;
        margin-left: 20px !important;
        margin-right: 20px !important;
    }

    /* Terms page header */
    .terms-header,
    .terms-page .terms-header {
        margin-top: 48px !important;
        margin-left: 20px !important;
        margin-right: 20px !important;
    }

    /* About page hero title */
    .hero-title-about,
    .about-page .hero-title-about {
        margin-top: 48px !important;
    }

    /* ============================================
       6. HERO SECTION ADJUSTMENTS
       - Ensure hero sections don't overlap with fixed header
    ============================================ */

    .hero-section,
    .about-page .hero-section,
    .contact-page .contact-hero,
    .privacy-page .privacy-content-section,
    .terms-page .terms-content-section {
        padding-top: 0 !important;
        margin-top: 0 !important;
    }

    /* ============================================
       7. MOBILE MENU DROPDOWN
       - Ensure mobile menu appears below the fixed header
    ============================================ */

    .mobile-menu,
    #mobile-menu,
    .main-nav .mobile-menu,
    body .main-nav .mobile-menu {
        position: fixed !important;
        top: 64px !important;
        left: 0 !important;
        right: 0 !important;
        width: 100% !important;
        background: rgba(255, 255, 255, 0.98) !important;
        backdrop-filter: blur(20px) !important;
        -webkit-backdrop-filter: blur(20px) !important;
        z-index: 999 !important;
        display: none !important;
        padding: 20px !important;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1) !important;
    }

    .mobile-menu.open,
    #mobile-menu.open,
    .mobile-menu.active,
    #mobile-menu.active {
        display: block !important;
    }

    /* ============================================
       8. ENSURE CONSISTENT SPACING ACROSS ALL PAGES
       - All page content should start at the same position
    ============================================ */

    /* Main content containers */
    .homepage .hero-section-wrapper,
    .about-page .hero-section-wrapper,
    .contact-page .contact-section-wrapper,
    .privacy-page .privacy-content-section-wrapper,
    .terms-page .terms-content-section-wrapper {
        padding-top: 0 !important;
        margin-top: 0 !important;
    }

    /* ============================================
       9. Z-INDEX STACKING ORDER
       - Ensure proper layering of elements
    ============================================ */

    header,
    body header {
        z-index: 1000 !important;
    }

    .main-nav,
    body .main-nav {
        z-index: 1000 !important;
    }

    .mobile-menu-toggle,
    #mobile-menu-btn,
    body .main-nav .mobile-menu-toggle,
    body .main-nav #mobile-menu-btn {
        z-index: 1001 !important;
    }

    .mobile-menu,
    #mobile-menu {
        z-index: 999 !important;
    }

    /* Page content should be below header */
    .contact-header,
    .privacy-header,
    .terms-header,
    .hero-title-about {
        z-index: 1 !important;
        position: relative !important;
    }
}
