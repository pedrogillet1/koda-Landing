/*
============================================
KODA LANDING PAGE - MOBILE HEADER FIX
ULTIMATE VERSION - FOURTH ANALYSIS
Fixes ALL mobile header issues across ALL pages
============================================
*/

/*
============================================
CRITICAL ISSUES FIXED:
1. Hamburger menu not visible on index.html and about.html
2. Header overlapping content on contact.html, privacy.html, terms.html
3. Inconsistent header positioning across pages
4. CSS loading order conflicts with mobile-footer-fix.css
5. Media query breakpoint inconsistencies (767px vs 768px)
6. CSS specificity wars with koda-mobile-consistency.css
7. Transform conflicts
8. Pointer events not set

STRATEGY:
- Use MAXIMUM CSS SPECIFICITY to beat ALL other selectors
- Target BOTH 767px AND 768px breakpoints
- Override mobile-footer-fix.css even though it loads after
- Set ALL properties explicitly with !important
- Target ALL page types with full selector chains
- Desktop completely unchanged (all rules inside mobile media queries)
============================================
*/

/*
============================================
MOBILE MEDIA QUERY - MAX 767PX
============================================
*/

@media (max-width: 767px) {
    /*
    ============================================
    1. PARENT HEADER ELEMENT - FORCE RELATIVE POSITIONING
    ============================================
    */

    /* Body - add padding for fixed header */
    body {
        padding-top: 64px !important;
    }

    /* Fix for ALL pages - generic selector */
    html body header,
    header {
        position: fixed !important;
        top: 0 !important;
        left: 0 !important;
        right: 0 !important;
        background: transparent !important;
        padding: 0 !important;
        margin: 0 !important;
        width: 100% !important;
        height: 64px !important;
        transform: none !important;
        z-index: 10000 !important;
    }

    /*
    ============================================
    2. MAIN NAV - FIXED AT TOP WITH WHITE BACKGROUND
    ============================================
    */

    html body header .main-nav,
    header .main-nav,
    
    
    
    .main-nav {
        /* Position */
        position: fixed !important;
        top: 0 !important;
        left: 0 !important;
        right: 0 !important;
        transform: none !important;
        z-index: 10001 !important;

        /* Size */
        width: 100% !important;
        max-width: 100% !important;
        height: 64px !important;
        min-height: 64px !important;

        /* Layout */
        display: flex !important;
        flex-direction: row !important;
        justify-content: space-between !important;
        align-items: center !important;
        flex-wrap: nowrap !important;

        /* Appearance */
        background: rgba(255, 255, 255, 0.95) !important;
        backdrop-filter: blur(10px) !important;
        -webkit-backdrop-filter: blur(10px) !important;
        border-radius: 0 0 24px 24px !important;

        /* Spacing */
        padding: 12px 20px 12px 16px !important;
        margin: 0 !important;
        box-sizing: border-box !important;

        /* Visibility */
        visibility: visible !important;
        opacity: 1 !important;
        overflow: visible !important;
        clip-path: none !important;
        pointer-events: auto !important;
    }

    /*
    ============================================
    3. BODY PADDING - PREVENT CONTENT FROM HIDING UNDER HEADER
    ============================================
    */

    html body.homepage,
    html body.about-page,
    html body.contact-page,
    html body.privacy-page,
    html body.terms-page,
    html body.waitlist-page {
        padding-top: 64px !important;
    }

    /*
    ============================================
    4. LOGO - LEFT ALIGNED
    ============================================
    */

    html body.homepage header .main-nav .logo,
    html body.about-page header .main-nav .logo,
    html body.contact-page header .main-nav .logo,
    html body.privacy-page header .main-nav .logo,
    html body.terms-page header .main-nav .logo,
    html body.waitlist-page header .main-nav .logo {
        display: flex !important;
        align-items: center !important;
        justify-content: flex-start !important;
        margin-right: auto !important;
        margin-left: 0 !important;
        padding-left: 0 !important;
        flex: 0 0 auto !important;
        order: 1 !important;
    }

    html body.homepage header .main-nav .logo a,
    html body.about-page header .main-nav .logo a,
    html body.contact-page header .main-nav .logo a,
    html body.privacy-page header .main-nav .logo a,
    html body.terms-page header .main-nav .logo a,
    html body.waitlist-page header .main-nav .logo a {
        display: flex !important;
        align-items: center !important;
        margin: 0 !important;
        padding: 0 !important;
    }

    html body.homepage header .main-nav .logo img,
    html body.about-page header .main-nav .logo img,
    html body.contact-page header .main-nav .logo img,
    html body.privacy-page header .main-nav .logo img,
    html body.terms-page header .main-nav .logo img,
    html body.waitlist-page header .main-nav .logo img,
    html body.homepage header .main-nav .content-icon,
    html body.about-page header .main-nav .content-icon,
    html body.contact-page header .main-nav .content-icon,
    html body.privacy-page header .main-nav .content-icon,
    html body.terms-page header .main-nav .content-icon,
    html body.waitlist-page header .main-nav .content-icon {
        height: 40px !important;
        width: auto !important;
        margin: 0 !important;
        display: block !important;
    }

    /*
    ============================================
    5. HIDE DESKTOP NAVIGATION
    ============================================
    */

    /* Hide all desktop navigation elements on mobile */
    html body header .main-nav .nav-links,
    html body header .main-nav .desktop-only,
    html body header .main-nav .nav-links.desktop-only,
    header .main-nav .nav-links.desktop-only,
    header .main-nav .desktop-only,
    .main-nav .nav-links.desktop-only,
    .main-nav .desktop-only,
    .nav-links.desktop-only {
        display: none !important;
    }

    /* Hide desktop CTA button on mobile */
    html body header .main-nav .nav-cta,
    header .main-nav .nav-cta,
    .main-nav .nav-cta,
    .demo-button.desktop-only {
        display: none !important;
    }

    /*
    ============================================
    6. SHOW MOBILE ELEMENTS
    ============================================
    */

    html body.homepage header .main-nav .mobile-only,
    html body.about-page header .main-nav .mobile-only,
    html body.contact-page header .main-nav .mobile-only,
    html body.privacy-page header .main-nav .mobile-only,
    html body.terms-page header .main-nav .mobile-only,
    html body.waitlist-page header .main-nav .mobile-only {
        display: flex !important;
        visibility: visible !important;
        opacity: 1 !important;
        pointer-events: auto !important;
    }

    /*
    ============================================
    7. HAMBURGER MENU BUTTON - RIGHT ALIGNED AND VISIBLE
    ============================================
    */

    html body header .main-nav #mobile-menu-btn,
    html body header .main-nav .mobile-menu-toggle,
    html body header .main-nav .hamburger-menu,
    html body header .main-nav .menu-toggle,
    header .main-nav #mobile-menu-btn,
    header .main-nav .mobile-menu-toggle,
    header .main-nav .hamburger-menu,
    header .main-nav .menu-toggle,
    .main-nav #mobile-menu-btn,
    .main-nav .mobile-menu-toggle,
    .main-nav .hamburger-menu,
    .main-nav .menu-toggle {
        /* Layout */
        display: flex !important;
        flex-direction: column !important;
        justify-content: center !important;
        align-items: center !important;
        gap: 6px !important;

        /* Size */
        width: 44px !important;
        height: 44px !important;
        min-width: 44px !important;
        min-height: 44px !important;

        /* Positioning */
        margin: 0 !important;
        margin-left: auto !important;
        padding: 8px !important;
        flex-shrink: 0 !important;
        order: 2 !important;

        /* Appearance */
        background: transparent !important;
        border: none !important;
        border-radius: 0 !important;

        /* Visibility */
        visibility: visible !important;
        opacity: 1 !important;
        display: flex !important;

        /* Interaction */
        cursor: pointer !important;
        pointer-events: auto !important;
        touch-action: manipulation !important;

        /* Transform */
        transform: none !important;

        /* Z-index */
        position: relative !important;
        z-index: 1001 !important;
    }

    /*
    ============================================
    8. HAMBURGER MENU LINES - BLACK ON WHITE BACKGROUND
    ============================================
    */

    html body header .main-nav #mobile-menu-btn .menu-line,
    html body header .main-nav .mobile-menu-toggle .menu-line,
    html body header .main-nav .hamburger-menu .menu-line,
    html body header .main-nav .menu-toggle .menu-line,
    header .main-nav #mobile-menu-btn .menu-line,
    header .main-nav .mobile-menu-toggle .menu-line,
    header .main-nav .hamburger-menu .menu-line,
    header .main-nav .menu-toggle .menu-line,
    .main-nav #mobile-menu-btn .menu-line,
    .main-nav .mobile-menu-toggle .menu-line,
    .main-nav .hamburger-menu .menu-line,
    .main-nav .menu-toggle .menu-line {
        /* Visibility */
        display: block !important;
        visibility: visible !important;
        opacity: 1 !important;

        /* Size */
        width: 24px !important;
        height: 2px !important;

        /* Appearance */
        background-color: #000000 !important;
        background: #000000 !important;
        border-radius: 2px !important;

        /* Animation */
        transition: all 0.3s ease !important;

        /* Positioning */
        margin: 0 !important;
        padding: 0 !important;

        /* Transform */
        transform: none !important;
    }

    /*
    ============================================
    9. PAGE HEADER ELEMENTS - CORRECT SPACING
    ============================================
    */

    html body.contact-page .contact-header,
    html body.privacy-page .privacy-header,
    html body.terms-page .terms-header {
        margin-top: 48px !important;
        padding-top: 32px !important;
    }

    /*
    ============================================
    10. MOBILE MENU OVERLAY
    ============================================
    */

    html body.homepage #mobile-menu,
    html body.about-page #mobile-menu,
    html body.contact-page #mobile-menu,
    html body.privacy-page #mobile-menu,
    html body.terms-page #mobile-menu,
    html body.waitlist-page #mobile-menu,
    html body.homepage .mobile-menu,
    html body.about-page .mobile-menu,
    html body.contact-page .mobile-menu,
    html body.privacy-page .mobile-menu,
    html body.terms-page .mobile-menu,
    html body.waitlist-page .mobile-menu,
    html body.homepage .side-menu,
    html body.about-page .side-menu,
    html body.contact-page .side-menu,
    html body.privacy-page .side-menu,
    html body.terms-page .side-menu,
    html body.waitlist-page .side-menu {
        position: fixed !important;
        inset: 0 !important;
        top: 0 !important;
        left: 0 !important;
        right: 0 !important;
        bottom: 0 !important;
        width: 100% !important;
        height: 100% !important;
        background: rgba(255, 255, 255, 0.98) !important;
        backdrop-filter: blur(20px) !important;
        -webkit-backdrop-filter: blur(20px) !important;
        z-index: 9999 !important;
        display: none !important;
        flex-direction: column !important;
        padding: calc(80px + env(safe-area-inset-top, 0px)) 24px 24px !important;
        gap: 8px !important;
        overflow-y: auto !important;
    }

    #mobile-menu.open,
    #mobile-menu.active,
    .mobile-menu.open,
    .mobile-menu.active,
    .side-menu.open,
    .side-menu.active {
        display: flex !important;
        visibility: visible !important;
        opacity: 1 !important;
    }
}

/*
============================================
MOBILE MEDIA QUERY - MAX 768PX (FOR CONSISTENCY)
============================================
*/

@media (max-width: 768px) {
    /* Apply same rules for 768px breakpoint */

    body {
        padding-top: 64px !important;
    }

    html body header,
    header {
        position: fixed !important;
        top: 0 !important;
        left: 0 !important;
        right: 0 !important;
        background: transparent !important;
        width: 100% !important;
        height: 64px !important;
        z-index: 10000 !important;
    }

    html body header .main-nav,
    header .main-nav,
    .main-nav {
        position: fixed !important;
        top: 0 !important;
        left: 0 !important;
        right: 0 !important;
        transform: none !important;
        width: 100% !important;
        height: 64px !important;
        background: rgba(255, 255, 255, 0.95) !important;
        z-index: 10001 !important;
        display: flex !important;
        justify-content: space-between !important;
        align-items: center !important;
    }

    html body.homepage header .main-nav #mobile-menu-btn,
    html body.about-page header .main-nav #mobile-menu-btn,
    html body.contact-page header .main-nav #mobile-menu-btn,
    html body.privacy-page header .main-nav #mobile-menu-btn,
    html body.terms-page header .main-nav #mobile-menu-btn,
    html body.waitlist-page header .main-nav #mobile-menu-btn,
    html body.homepage header .main-nav .mobile-menu-toggle,
    html body.about-page header .main-nav .mobile-menu-toggle,
    html body.contact-page header .main-nav .mobile-menu-toggle,
    html body.privacy-page header .main-nav .mobile-menu-toggle,
    html body.terms-page header .main-nav .mobile-menu-toggle,
    html body.waitlist-page header .main-nav .mobile-menu-toggle {
        display: flex !important;
        visibility: visible !important;
        opacity: 1 !important;
        pointer-events: auto !important;
    }

    html body.homepage header .main-nav #mobile-menu-btn .menu-line,
    html body.about-page header .main-nav #mobile-menu-btn .menu-line,
    html body.contact-page header .main-nav #mobile-menu-btn .menu-line,
    html body.privacy-page header .main-nav #mobile-menu-btn .menu-line,
    html body.terms-page header .main-nav #mobile-menu-btn .menu-line,
    html body.waitlist-page header .main-nav #mobile-menu-btn .menu-line,
    html body.homepage header .main-nav .mobile-menu-toggle .menu-line,
    html body.about-page header .main-nav .mobile-menu-toggle .menu-line,
    html body.contact-page header .main-nav .mobile-menu-toggle .menu-line,
    html body.privacy-page header .main-nav .mobile-menu-toggle .menu-line,
    html body.terms-page header .main-nav .mobile-menu-toggle .menu-line,
    html body.waitlist-page header .main-nav .mobile-menu-toggle .menu-line {
        display: block !important;
        background-color: #000000 !important;
        visibility: visible !important;
        opacity: 1 !important;
    }

    /* CRITICAL: Hide desktop navigation on 768px breakpoint too */
    html body header .main-nav .nav-links,
    html body header .main-nav .desktop-only,
    html body header .main-nav .nav-links.desktop-only,
    header .main-nav .nav-links.desktop-only,
    header .main-nav .desktop-only,
    .main-nav .nav-links.desktop-only,
    .main-nav .desktop-only,
    .nav-links.desktop-only,
    html body header .main-nav .nav-cta,
    header .main-nav .nav-cta,
    .main-nav .nav-cta,
    .demo-button.desktop-only {
        display: none !important;
    }
}

/*
============================================
END OF MOBILE HEADER FIX
============================================
*/
